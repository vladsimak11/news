!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire0124;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},t.parcelRequire0124=r);var c=r("bpxeT"),s=r("2TvXO"),o=r("kngbI");function i(e){var t,n,a=e.multimedia,r=e.section,c=e.abstract,s=e.title,i=e.published_date,d=e.url,l=e.slug_name,u=a[2].url;return'\n  <div class="newsHomePage-card" data-id='.concat(l,'>\n  <div class="card-picture">\n      <img\n        class="newsHomePage-image"\n        src="').concat(a.length?u:"https://placehold.co/400x400?text=NO+IMAGE",'"\n        alt="news cover"\n        width="288"\n        height="395"\n      />\n      <p class="dispNo newsHomePage-status-read">Already read</p>\n      <p class="newsHomePage-search-category">').concat(r,'</p>\n      \n      <button class="add-to-favBtn test-favBtn" type="button" data-id=').concat(l,'>Add to favourite\n                  <svg class="heart" width="16" height="16">\n                      <use href="/assets/svg/symbol-defs.svg#icon-unclicked_heart">\n                      </use>\n                  </svg>\n              </button>\n    </div>\n    <div>\n      <h2 class="newsHomePage-title">\n        ').concat(s,'\n      </h2>\n      <p class="newsHomePage-text">\n        ').concat(function(e){var t=e;t.length>80&&(t=e.slice(0,80)+"...");return t}(c),'\n      </p>\n    </div>\n    <div class="homePage-readMore">\n      <p class="newsHomePage-date">').concat((t=i,n=new Date(t),(0,o.default)(n,"dd/mm/yyyy")),'</p>\n      <a class="newsHomePage-readMore-link" target = "_blank" href="').concat(d,'">Read more</a>\n    </div>\n  </div>\n  </div>')}c=r("bpxeT");var d=r("8MBJY"),l=r("a2hTj"),u=(s=r("2TvXO"),r("dIxxU").default),g="13J2OJQdfSen9tQqVIHpzfTVNgWWH6dm";function p(){var e="".concat("https://api.nytimes.com/svc/news/v3/content/section-list.json","?api-key=").concat(g);return u.get(e)}var h=function(){"use strict";function t(){e(d)(this,t),this.searchCategories=""}return e(l)(t,[{key:"getNews",value:function(){var t=this;return e(c)(e(s).mark((function n(){var a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.nytimes.com/svc/news/v3/content/inyt/".concat(t.searchCategories,".json?api-key=").concat(g),e.next=3,u.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),n)})))()}}]),t}(),f=r("bAIBP"),v=r("7D6Cl"),m=new h,w=document.querySelector(".newsHP-categories");w.addEventListener("click",(function(){q(),document.querySelectorAll(".category").forEach((function(e){e.addEventListener("click",L)}))}));var y=document.querySelector(".categories"),x=document.querySelector("button.others");function b(){return(b=e(c)(e(s).mark((function t(){var n,a,r,c,o,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:n=e.sent,a=n.data.results,r=[],c=window.matchMedia("(max-width: 767px)"),o=window.matchMedia("(min-width: 768px)"),i=window.matchMedia("(max-width: 1279px)"),a.forEach((function(e,t){c.matches?r.push(k(e)):o.matches&&i.matches?t>=4&&r.push(k(e)):t>=6&&r.push(k(e))})),document.querySelector(".categories-list").insertAdjacentHTML("beforeend",r.join("")),y.addEventListener("click",q),document.querySelector("body"),x.addEventListener("click",q),document.querySelectorAll(".category").forEach((function(e){e.addEventListener("click",L)})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),t,null,[[0,19]])})))).apply(this,arguments)}function k(e){var t=e.display_name;return'\n  <li class="category"><span>'.concat(t,"</span></li>\n    ")}function L(e){e.preventDefault();var t=e.target.textContent.toLowerCase();m.searchCategories=t;m.getNews().then((function(e){var t=e.data.results;if(null==t)return(0,v.default)(),void(document.getElementById("pagination-container").style.display="none");var n=document.querySelector(".gallery"),a=t.map((function(e){return i(e)}));n.innerHTML=a.join(""),(0,f.addCategori)(t)}))}function q(){var e=document.querySelector(".categ-arrow-down"),t=document.querySelector(".others-arrow-down");y.classList.toggle("show"),y.classList.toggle("hidden"),e.classList.toggle("switchedImg"),t.classList.toggle("switchedImg"),w.classList.toggle("categoriesBtnOpened"),x.classList.toggle("othersBtnOpened")}!function(){b.apply(this,arguments)}()}();
//# sourceMappingURL=index.7f8c5eab.js.map
